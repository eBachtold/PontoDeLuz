{% extends "base.html" %}
{% block content %}

<h3>Nova Venda</h3>

<form method="post">

  <div class="row">
    <div class="col-md-6">
      <label class="form-label">Cliente</label>
      <input class="form-control mb-2" name="cliente" placeholder="Nome do cliente">
    </div>

    <div class="col-md-6">
      <label class="form-label">Canal</label>
      <select class="form-control mb-2" name="canal">
        <option value="Shopee">Shopee</option>
        <option value="Mercado Livre">Mercado Livre</option>
        <option value="Whatsapp">Whatsapp</option>
        <option value="Instagram">Instagram</option>
        <option value="Outros">Outros</option>
      </select>
    </div>
  </div>

  <div class="row mt-3">
    <!-- ðŸ†• Busca por referÃªncia -->
    <div class="col-md-4">
      <label class="form-label">ReferÃªncia / CÃ³digo do produto</label>
      <input class="form-control mb-2" name="produto_codigo" placeholder="Ex: COL-001">
      <small class="text-muted">Se preencher a referÃªncia, nÃ£o precisa escolher no campo ao lado.</small>
    </div>

    <!-- Select antigo continua funcionando -->
    <div class="col-md-4">
      <label class="form-label">Produto (opcional)</label>
      <select class="form-control mb-2" name="produto_id">
        <option value="">Selecione um produto</option>
        {% for p in produtos %}
          <option value="{{ p.id }}">{{ p.codigo }} - {{ p.nome }}</option>
        {% endfor %}
      </select>
      <small class="text-muted">Use se nÃ£o souber a referÃªncia.</small>
    </div>

    <div class="col-md-4">
      <label class="form-label">Quantidade</label>
      <input class="form-control mb-2" name="quantidade" type="number" min="1" value="1">
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-md-4">
      <label class="form-label">ComissÃ£o do marketplace (R$)</label>
      <input class="form-control mb-2" name="comissao" type="text" placeholder="Ex: 5,90">
    </div>
  </div>

  <button class="btn btn-success mt-3">Registrar venda</button>
</form>

{% endblock %}
